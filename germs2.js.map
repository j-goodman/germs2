{"version":3,"sources":["webpack:///webpack/bootstrap e42e618f921e62947c59","webpack:///./js/game.js","webpack:///./js/objects.js","webpack:///./js/cell.js","webpack:///./js/util.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA,wBAAuB,2BAA2B,qBAAqB,sBAAsB;AAC7F;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,YAAW;AACX,gBAAe,SAAS;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,qBAAqB;AACnC;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzEA;AACA;;;;;;;ACDA,UAAS,UAAU;AACnB;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ,OAAO,OAAO;AACtB;AACA;AACA;AACA;AACA,sBAAqB,aAAa;AAClC,sBAAqB,aAAa;AAClC,sBAAqB,aAAa;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa,sBAAsB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa,sBAAsB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa,sBAAsB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,SAAS;AAC3B,mBAAkB,SAAS;AAC3B;AACA;AACA;;AAEA;AACA,UAAS;AACT;AACA,cAAa,oBAAoB;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,cAAa,YAAY,YAAY;AACrC;AACA,cAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACvLA;;AAEA;AACA,0BAAyB,+BAA+B;AACxD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA","file":"./germs2.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e42e618f921e62947c59\n **/","Window.newGame = function () {\n  var initializeCanvas; var initializeKeyControls; var initializeWorld; var intervalFunction; var play;\n  // 1. REQUIRE DEPENDENCIES\n  var objects; var Cell;\n  objects = require('./objects.js');\n  Cell = require('./cell.js');\n\n  // 2. INITIALIZE CANVAS\n  initializeCanvas = function () {\n    window.onload = function () {\n      var canvas; var ctx;\n      canvas = document.getElementById(\"canvas\");\n      canvas.height = window.innerHeight*0.96;\n      canvas.width = window.innerWidth*0.96;\n      ctx = canvas.getContext('2d');\n      this.canvas = canvas;\n      this.ctx = ctx;\n      ctx.globalAlpha = 0.9;\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n    }.bind(this);\n    window.onresize = function () {\n      canvas.height = window.innerHeight*0.96;\n      canvas.width = window.innerWidth*0.96;\n    };\n    window.time = 0;\n  };\n\n  // 3. INITIALIZE KEY CONTROLS\n  initializeKeyControls = function () {};\n\n  // 4. INITIALIZE WORLD\n  initializeWorld = function () {\n    var ff; var count;\n    for (ff=0 ; ff < 4 ; ff++) {\n      objects.push(new Cell(objects.length, Math.random()*window.innerWidth*0.96, Math.random()*window.innerHeight*0.96, 7, 'BJABADAEEHB'));\n    }\n  };\n\n  // 5. DEFINE INTERVAL FUNCTION\n  intervalFunction = function () {\n    window.time++;\n    window.cooldown = true;\n    var xx;\n    ctx.fillStyle = '#000000';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    for (xx=0; xx < objects.length; xx++) {\n      if (objects[xx]) {\n        if (objects[xx].radius < 0) {\n          objects[xx].destroy();\n        } else {\n          objects[xx].draw(ctx);\n          objects[xx].act();\n        }\n        if (!window.time%500) {\n          if (objects[xx].pos.x > window.innerWidth  || objects[xx].pos.x < 0 ||\n              objects[xx].pos.y > window.innerHeight || objects[xx].pos.y < 0) {\n            objects[xx].destroy();\n          }\n        }\n      }\n    }\n  };\n\n  // 5. PLAY\n  play = function () {\n    var interval; var xx;\n    initializeWorld();\n    interval = setInterval(intervalFunction, 32);\n  };\n  initializeCanvas();\n  play();\n};\n\nWindow.newGame();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/game.js\n ** module id = 0\n ** module chunks = 0\n **/","var objects = [];\nmodule.exports = objects;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/objects.js\n ** module id = 1\n ** module chunks = 0\n **/","var Cell; var Util; var objects;\nobjects = require('./objects.js');\nUtil = require('./util.js');\nvar alfa; var halfAlfa;\nalfa = ['A','B','C','D','E','F','G','H','I','J',];\nhalfAlfa = ['A','B','C','D','E',];\nthreeQuartAlfa = ['A','B','C','D','E','F','G'];\n\nCell = function (index, x, y, radius, dna) {\n  this.index = index;\n  this.pos = {\n    x: x,\n    y: y,\n  };\n  this.speed = {\n    x: 0,\n    y: 0,\n  };\n  this.age = 0;\n  this.dna = dna;\n  this.radius = radius;\n  this.splitRadius = alfa.indexOf(this.dna.slice(3,4))*6+2;\n  this.agility = alfa.indexOf(this.dna.slice(4,5))/12;\n  this.autotroph = halfAlfa.includes(this.dna.slice(5,6));\n  var r; var g; var b; var colors;\n  r = (alfa.indexOf(this.dna.slice(0,1))*28).toString(16);\n  g = (alfa.indexOf(this.dna.slice(1,2))*28).toString(16);\n  b = (alfa.indexOf(this.dna.slice(2,3))*28).toString(16);\n  colors = [r,g,b];\n  if (r.length < 2) { r = '0' + r; }\n  if (g.length < 2) { g = '0' + g; }\n  if (b.length < 2) { b = '0' + b; }\n  this.color = '#'+r+g+b;\n  this.foodChainPlace = alfa.indexOf(this.dna.slice(6,7));\n  this.efficiency = (alfa.indexOf(this.dna.slice(7,8))+1)/100;\n  this.preySeeking = threeQuartAlfa.includes(this.dna.slice(8,9));\n  this.predatorFleeing = halfAlfa.includes(this.dna.slice(9,10));\n  this.sightRadius = alfa.indexOf(this.dna.slice(10,11))*30;\n  // console.log(this);\n};\n\n// Autotroph: AJADABAEBCB\n// Herbivore: AAJHBIBDFEF\n// 0: redness (A-J)\n// 1: greenness (A-J)\n// 2: blueness (A-J)\n// 3: sexual maturity radius (A-J)\n// 4: agility (A-J)\n// 5: autotroph/carnivore (A-E/F-J)\n// 6: consumption precedence (A-J)\n// 7: consumption efficiency (A-J)\n// 8: prey seeking (A-E/F-J)\n// 9: predator fleeing (A-E/F-J)\n// 10: sightRadius (A-E/F-J)\n\nCell.prototype.draw = function (ctx) {\n  ctx.beginPath();\n  ctx.arc(this.pos.x, this.pos.y, this.radius, 0, 2*Math.PI);\n  ctx.fillStyle = this.color;\n  ctx.fill();\n};\n\nCell.prototype.act = function () {\n  this.age++;\n  if (this.predatorFleeing) {\n    this.fleePredators();\n  }\n  if (this.autotroph) {\n    this.autotrophize();\n  } else {\n    this.checkForPrey();\n    if (this.preySeeking) {\n      this.seekPrey();\n    }\n  }\n  if (this.radius > this.splitRadius) {\n    this.replicate();\n  }\n  if (this.speed.x > 0 || this.speed.y > 0) {\n    this.pos.x += this.speed.x;\n    this.pos.y += this.speed.y;\n  }\n  if (this.age > 1000) {\n    this.radius -= this.splitRadius/100;\n  }\n};\n\nCell.prototype.autotrophize = function () {\n  this.radius += this.efficiency/10;\n};\n\nCell.prototype.carnivorize = function (target) {\n  this.radius += this.efficiency;\n  target.radius -= this.efficiency;\n};\n\nCell.prototype.seekPrey = function () {\n  var bb;\n  for (bb=0 ; bb < objects.length ; bb++) {\n    if (objects[bb] && (objects[bb].autotroph || objects[bb].foodChainPlace < this.foodChainPlace)) {\n      if (Util.distanceBetween(objects[bb].pos, this.pos) < this.sightRadius) {\n        this.goTo(objects[bb].pos);\n      }\n    }\n  }\n};\n\nCell.prototype.fleePredators = function () {\n  var cc;\n  for (cc=0 ; cc < objects.length ; cc++) {\n    if (objects[cc] && (this.autotroph && !objects[cc].autotroph || !objects[cc].autotroph && objects[cc].foodChainPlace > this.foodChainPlace)) {\n      if (Util.distanceBetween(objects[cc].pos, this.pos) < this.sightRadius) {\n        this.goTo(objects[cc].pos);\n        this.speed.x *= (-1);\n        this.speed.y *= (-1);\n      }\n    }\n  }\n};\n\nCell.prototype.checkForPrey = function () {\n  var dd;\n  for (dd=0 ; dd < objects.length ; dd++) {\n    if (objects[dd] && (objects[dd].autotroph || objects[dd].foodChainPlace < this.foodChainPlace)) {\n      if (Util.distanceBetween(objects[dd].pos, this.pos) < this.radius + objects[dd].radius) {\n        this.carnivorize(objects[dd]);\n      }\n    }\n  }\n};\n\nvar copyTrait;\ncopyTrait = function (char) {\n  var idx;\n  idx = alfa.indexOf(char);\n  if (Math.round(Math.random())) {\n    idx = idx-1.5+Math.random()*3;\n    idx = Math.round(idx);\n    if (idx < 0) { idx = 0; }\n    if (idx > 9) { idx = 9; }\n  }\n  return alfa[idx];\n};\n\nCell.prototype.replicateDNA = function (input) {\n  var aa; var output;\n  output = '';\n  for (aa=0 ; aa < input.length ; aa++) {\n    output += copyTrait(input[aa]);\n  }\n  return output;\n};\n\nCell.prototype.replicate = function () {\n  if (!window.cooldown) {\n    this.radius = this.splitRadius;\n    return null;\n  } else {\n    window.cooldown = false;\n  }\n  var litter; var randox; var randoy; var ee;\n  litter = 2;\n  for (ee=0 ; ee < litter ; ee++) {\n    randox = 0-8+Math.random()*16;\n    randoy = 0-8+Math.random()*16;\n    objects.push(new Cell(objects.length, this.pos.x+randox, this.pos.y+randoy, this.radius/litter, this.replicateDNA(this.dna)));\n  }\n  this.destroy();\n};\n\nCell.prototype.goTo = function (target) {\n  this.speed.x = -((this.pos.x - target.x)/(Math.sqrt(\n    Math.pow((this.pos.x - target.x), 2) + Math.pow((this.pos.y - target.y), 2)\n  )/this.agility));\n  this.speed.y = -((this.pos.y - target.y)/(Math.sqrt(\n    Math.pow((this.pos.x - target.x), 2) + Math.pow((this.pos.y - target.y), 2)\n  )/this.agility));\n};\n\nCell.prototype.destroy = function () {\n  objects[this.index] = undefined;\n};\n\nmodule.exports = Cell;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/cell.js\n ** module id = 2\n ** module chunks = 0\n **/","var Util = {};\n\nUtil.inherits = function (ChildClass, BaseClass) {\n  function Surrogate () { this.constructor = ChildClass; }\n  Surrogate.prototype = BaseClass.prototype;\n  ChildClass.prototype = new Surrogate();\n};\n\nUtil.distanceBetween = function (firstPos, secondPos) {\n  xGap = Math.abs(firstPos.x - secondPos.x);\n  yGap = Math.abs(firstPos.y - secondPos.y);\n  return(Math.sqrt(xGap*xGap+yGap*yGap));\n};\n\nmodule.exports = Util;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/util.js\n ** module id = 3\n ** module chunks = 0\n **/"],"sourceRoot":""}